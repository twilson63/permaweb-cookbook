<script setup>
import { ref, onMounted } from "vue";

import ToggleColorModeButton from "@theme/ToggleColorModeButton.vue";
import { useThemeLocaleData } from "@vuepress/theme-default/lib/client/composables/index.js";
import I18NRouterLink from "./I18NRouterLink.vue";
import ToggleSidebarButton from "./ToggleSidebarButton.vue";
import ToggleLanguageButton from "./ToggleLanguageButton.vue";

import { useI18NStr } from "../composables/useI18N";

defineEmits(["toggle-sidebar", "toggle-language"]);

const get_i18n_str = useI18NStr();
const themeLocale = useThemeLocaleData();
const navbar = ref(null);
const searchBox = ref(null);

const searchBoxFocused = ref(false);

onMounted(() => {
  searchBox.value[0].onfocus = (e) => {
    searchBoxFocused.value = true;
  };

  searchBox.value[0].onblur = (e) => {
    searchBoxFocused.value = false;
  };
});
</script>

<template>
  <header
    ref="navbar"
    class="cookbook-navbar"
    :class="{ 'search-expanded': searchBoxFocused }"
  >
    <div class="container-xxl" style="height: 100%;">
      <div class="row justify-content-between align-items-center px-md-4" style="height: 100%;">
        <div class="col-8 col-md-4 col-lg-3 d-flex align-items-center">
          <ToggleSidebarButton
            style="margin-right: 26px"
            class="d-md-none"
            @toggle="$emit('toggle-sidebar')"
          />

          <I18NRouterLink to="/index.html" style="flex: 1;">
            <div class="logo"></div>
          </I18NRouterLink>
        </div>

        <div class="col-3 col-md-8 col-lg-9">
          <div class="cookbook-navbar-items">
            <ToggleLanguageButton
              style="margin-right: 42px"
              class="d-none d-md-block"
              @toggle="$emit('toggle-language')"
            />
            <I18NRouterLink
              class="d-none d-md-block"
              style="color: var(--c-text)"
              to="/getting-started/index.html"
              >Docs</I18NRouterLink
            >

            <ToggleColorModeButton
              class="d-none d-md-block"
              style="margin: 0 42px; font-size: 0"
              v-if="themeLocale.colorModeSwitch"
            />

            <a
              class="hidden-on-search"
              style="font-size: 0"
              target="_blank"
              href="https://github.com/twilson63/permaweb-cookbook"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 98 96"
                width="20"
                height="20"
              >
                <path
                  class="text-fill"
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"
                />
              </svg>
            </a>

            <SearchBox ref="searchBox" />
          </div>
        </div>
      </div>
    </div>
  </header>
</template>

<style lang="scss">
@import "../styles/bootstrap.scss";

:root {
  --nav-h: 100px;

  @include media-breakpoint-down(md) {
    --nav-h: 50px;
  }
}

.cookbook-navbar {
  height: var(--nav-h);

  .logo {
    max-width: 200px;
    width: 100%;
    aspect-ratio: 5.627;

    mask: url("data:image/svg+xml,%3Csvg width='459' height='42' viewBox='0 0 459 42' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M78.3984 24.5703V35H72.9102V6.5625H82.6367C84.1862 6.5625 85.5859 6.79036 86.8359 7.24609C88.0859 7.6888 89.1536 8.30729 90.0391 9.10156C90.9115 9.90885 91.582 10.8724 92.0508 11.9922C92.5326 13.112 92.7734 14.3555 92.7734 15.7227C92.7734 16.9987 92.5326 18.1771 92.0508 19.2578C91.582 20.3385 90.9115 21.2695 90.0391 22.0508C89.1536 22.8451 88.0859 23.4635 86.8359 23.9062C85.5859 24.349 84.1862 24.5703 82.6367 24.5703H78.3984ZM78.3984 20.1172H82.6367C83.418 20.1172 84.0951 20 84.668 19.7656C85.2409 19.5312 85.7227 19.2122 86.1133 18.8086C86.4909 18.4049 86.7708 17.9427 86.9531 17.4219C87.1484 16.888 87.2461 16.3346 87.2461 15.7617C87.2461 15.0977 87.1484 14.4792 86.9531 13.9062C86.7708 13.3333 86.4909 12.832 86.1133 12.4023C85.7227 11.9727 85.2409 11.6341 84.668 11.3867C84.0951 11.1393 83.418 11.0156 82.6367 11.0156H78.3984V20.1172ZM105.431 35.3906C103.804 35.3906 102.326 35.1237 100.998 34.5898C99.6695 34.056 98.5302 33.3268 97.5797 32.4023C96.6292 31.4909 95.8935 30.4167 95.3727 29.1797C94.8648 27.9297 94.6109 26.5951 94.6109 25.1758V24.3945C94.6109 22.7799 94.8648 21.3086 95.3727 19.9805C95.8805 18.6393 96.5901 17.487 97.5016 16.5234C98.413 15.5599 99.4937 14.8112 100.744 14.2773C101.994 13.7435 103.354 13.4766 104.826 13.4766C106.349 13.4766 107.703 13.7305 108.888 14.2383C110.086 14.7331 111.102 15.4362 111.935 16.3477C112.755 17.2591 113.38 18.3594 113.81 19.6484C114.24 20.9245 114.455 22.3372 114.455 23.8867V26.1914H100.119V26.25C100.301 27.0964 100.535 27.7799 100.822 28.3008C101.108 28.8086 101.492 29.2708 101.974 29.6875C102.469 30.1172 103.035 30.4492 103.673 30.6836C104.311 30.918 105.008 31.0352 105.763 31.0352C106.831 31.0352 107.866 30.8333 108.869 30.4297C109.871 30.026 110.685 29.4206 111.31 28.6133L114.025 31.543C113.335 32.5195 112.241 33.4049 110.744 34.1992C109.246 34.9935 107.476 35.3906 105.431 35.3906ZM104.787 17.8711C104.175 17.8711 103.615 17.9818 103.107 18.2031C102.599 18.4115 102.157 18.7174 101.779 19.1211C101.388 19.5247 101.063 20.0065 100.802 20.5664C100.542 21.1263 100.347 21.7513 100.216 22.4414H109.123V22.0117C109.123 21.4388 109.018 20.8984 108.81 20.3906C108.602 19.8828 108.315 19.4401 107.951 19.0625C107.586 18.6979 107.137 18.4115 106.603 18.2031C106.082 17.9818 105.477 17.8711 104.787 17.8711ZM130.377 13.4766C131.197 13.4766 131.952 13.5352 132.642 13.6523C133.345 13.7565 133.912 13.8737 134.341 14.0039L133.541 19.4141C132.824 19.2448 132.089 19.1211 131.334 19.043C130.591 18.9518 129.882 18.9062 129.205 18.9062C128.502 18.9062 127.864 18.9714 127.291 19.1016C126.731 19.2188 126.229 19.401 125.787 19.6484C125.253 19.9349 124.797 20.2995 124.42 20.7422C124.042 21.1849 123.729 21.7057 123.482 22.3047V35H118.052V13.8672H123.111L123.326 16.8555L123.365 17.3242C124.224 16.1263 125.253 15.1888 126.451 14.5117C127.649 13.8216 128.957 13.4766 130.377 13.4766ZM142.203 13.8672L142.359 16.4258C142.763 15.5143 143.316 14.7982 144.02 14.2773C144.736 13.7435 145.602 13.4766 146.617 13.4766C147.112 13.4766 147.555 13.5352 147.945 13.6523C148.336 13.7695 148.674 13.9518 148.961 14.1992C149.182 14.3815 149.371 14.6029 149.527 14.8633C149.697 15.1107 149.84 15.3971 149.957 15.7227C150.139 15.4102 150.341 15.1302 150.562 14.8828C150.797 14.6224 151.051 14.401 151.324 14.2188C151.663 13.9844 152.047 13.8021 152.477 13.6719C152.906 13.5417 153.375 13.4766 153.883 13.4766C154.521 13.4766 155.113 13.5938 155.66 13.8281C156.22 14.0625 156.708 14.4336 157.125 14.9414C157.529 15.4622 157.841 16.1328 158.062 16.9531C158.297 17.7604 158.414 18.75 158.414 19.9219V35H153.473V19.9023C153.473 19.4987 153.427 19.1667 153.336 18.9062C153.258 18.6458 153.147 18.4375 153.004 18.2812C152.861 18.138 152.691 18.0404 152.496 17.9883C152.314 17.9232 152.125 17.8906 151.93 17.8906C151.721 17.8906 151.533 17.9167 151.363 17.9688C151.207 18.0208 151.057 18.0924 150.914 18.1836C150.797 18.2747 150.693 18.3789 150.602 18.4961C150.51 18.6003 150.432 18.724 150.367 18.8672C150.367 18.8932 150.367 18.9518 150.367 19.043C150.367 19.1341 150.367 19.2578 150.367 19.4141V35H145.582V19.8828C145.582 19.4792 145.543 19.1471 145.465 18.8867C145.387 18.6263 145.283 18.4245 145.152 18.2812C145.009 18.138 144.846 18.0404 144.664 17.9883C144.482 17.9232 144.286 17.8906 144.078 17.8906C143.844 17.8906 143.635 17.9297 143.453 18.0078C143.271 18.0859 143.108 18.1966 142.965 18.3398C142.861 18.444 142.77 18.5677 142.691 18.7109C142.613 18.8542 142.542 19.0104 142.477 19.1797V35H137.535V13.8672H142.203ZM175.851 35C175.721 34.7396 175.61 34.4401 175.519 34.1016C175.428 33.763 175.349 33.4049 175.284 33.0273C174.985 33.3529 174.64 33.6589 174.249 33.9453C173.859 34.2318 173.429 34.4792 172.96 34.6875C172.478 34.9089 171.951 35.0781 171.378 35.1953C170.805 35.3255 170.187 35.3906 169.523 35.3906C168.442 35.3906 167.446 35.2344 166.534 34.9219C165.636 34.6094 164.861 34.1732 164.21 33.6133C163.559 33.0534 163.051 32.3893 162.687 31.6211C162.322 30.8398 162.14 29.9935 162.14 29.082C162.14 27.9102 162.368 26.875 162.823 25.9766C163.279 25.0651 163.963 24.3164 164.874 23.7305C165.695 23.1966 166.704 22.793 167.902 22.5195C169.113 22.2331 170.499 22.0898 172.062 22.0898H175.089V20.8398C175.089 20.3451 175.011 19.9023 174.855 19.5117C174.698 19.1081 174.464 18.763 174.152 18.4766C173.826 18.1771 173.416 17.9492 172.921 17.793C172.439 17.6237 171.873 17.5391 171.222 17.5391C170.649 17.5391 170.154 17.6107 169.738 17.7539C169.321 17.8841 168.982 18.0729 168.722 18.3203C168.488 18.5417 168.312 18.8086 168.195 19.1211C168.09 19.4336 168.038 19.7786 168.038 20.1562H162.609C162.609 19.2578 162.804 18.4049 163.195 17.5977C163.598 16.7904 164.184 16.0807 164.952 15.4688C165.708 14.8568 166.632 14.375 167.726 14.0234C168.833 13.6589 170.096 13.4766 171.515 13.4766C172.791 13.4766 173.976 13.6328 175.07 13.9453C176.176 14.2578 177.133 14.7201 177.941 15.332C178.748 15.944 179.379 16.7188 179.835 17.6562C180.291 18.5807 180.519 19.6549 180.519 20.8789V29.9414C180.519 31.0742 180.59 32.0117 180.734 32.7539C180.877 33.4961 181.085 34.1341 181.359 34.668V35H175.851ZM170.675 31.1914C171.222 31.1914 171.73 31.1263 172.198 30.9961C172.667 30.8659 173.09 30.6966 173.468 30.4883C173.846 30.2799 174.171 30.0456 174.445 29.7852C174.718 29.5117 174.933 29.2383 175.089 28.9648V25.332H172.316C171.469 25.332 170.747 25.4167 170.148 25.5859C169.549 25.7422 169.06 25.9635 168.683 26.25C168.305 26.5495 168.025 26.9076 167.843 27.3242C167.661 27.7279 167.57 28.1706 167.57 28.6523C167.57 29.0299 167.635 29.3815 167.765 29.707C167.908 30.0195 168.11 30.2865 168.37 30.5078C168.631 30.7161 168.95 30.8854 169.327 31.0156C169.718 31.1328 170.167 31.1914 170.675 31.1914ZM187.234 35L183.445 13.8672H188.405L189.988 26.4258L190.241 28.4375L190.613 26.4258L192.898 13.8672H196.53L198.816 26.3672L199.187 28.3789L199.46 26.3281L201.023 13.8672H206.003L202.214 35H197.448L195.124 23.7109L194.675 21.5625L194.245 23.7109L191.999 35H187.234ZM218.948 35.3906C217.321 35.3906 215.843 35.1237 214.515 34.5898C213.187 34.056 212.047 33.3268 211.097 32.4023C210.146 31.4909 209.411 30.4167 208.89 29.1797C208.382 27.9297 208.128 26.5951 208.128 25.1758V24.3945C208.128 22.7799 208.382 21.3086 208.89 19.9805C209.398 18.6393 210.107 17.487 211.019 16.5234C211.93 15.5599 213.011 14.8112 214.261 14.2773C215.511 13.7435 216.872 13.4766 218.343 13.4766C219.866 13.4766 221.221 13.7305 222.405 14.2383C223.603 14.7331 224.619 15.4362 225.452 16.3477C226.273 17.2591 226.898 18.3594 227.327 19.6484C227.757 20.9245 227.972 22.3372 227.972 23.8867V26.1914H213.636V26.25C213.818 27.0964 214.053 27.7799 214.339 28.3008C214.626 28.8086 215.01 29.2708 215.491 29.6875C215.986 30.1172 216.553 30.4492 217.191 30.6836C217.829 30.918 218.525 31.0352 219.28 31.0352C220.348 31.0352 221.383 30.8333 222.386 30.4297C223.389 30.026 224.202 29.4206 224.827 28.6133L227.542 31.543C226.852 32.5195 225.758 33.4049 224.261 34.1992C222.764 34.9935 220.993 35.3906 218.948 35.3906ZM218.304 17.8711C217.692 17.8711 217.132 17.9818 216.624 18.2031C216.116 18.4115 215.674 18.7174 215.296 19.1211C214.905 19.5247 214.58 20.0065 214.32 20.5664C214.059 21.1263 213.864 21.7513 213.734 22.4414H222.64V22.0117C222.64 21.4388 222.536 20.8984 222.327 20.3906C222.119 19.8828 221.833 19.4401 221.468 19.0625C221.103 18.6979 220.654 18.4115 220.12 18.2031C219.599 17.9818 218.994 17.8711 218.304 17.8711ZM250.361 24.6484C250.361 25.6641 250.289 26.6276 250.146 27.5391C250.003 28.4375 249.795 29.2708 249.521 30.0391C249.222 30.8854 248.824 31.6536 248.33 32.3438C247.848 33.0339 247.275 33.6068 246.611 34.0625C246.012 34.4922 245.335 34.8177 244.58 35.0391C243.837 35.2734 243.017 35.3906 242.119 35.3906C241.298 35.3906 240.55 35.2865 239.873 35.0781C239.209 34.8828 238.61 34.5898 238.076 34.1992C237.789 34.0039 237.522 33.7891 237.275 33.5547C237.028 33.3073 236.793 33.0404 236.572 32.7539L236.318 35H231.435V5H236.865V15.7812C237.125 15.4818 237.405 15.2083 237.705 14.9609C238.004 14.7005 238.323 14.4792 238.662 14.2969C239.143 14.0234 239.664 13.8216 240.224 13.6914C240.797 13.5482 241.416 13.4766 242.08 13.4766C242.991 13.4766 243.824 13.5938 244.58 13.8281C245.348 14.0625 246.032 14.401 246.63 14.8438C247.112 15.1823 247.548 15.5924 247.939 16.0742C248.33 16.543 248.675 17.0573 248.974 17.6172C249.443 18.5156 249.788 19.5247 250.009 20.6445C250.244 21.7643 250.361 22.9622 250.361 24.2383V24.6484ZM244.931 24.2383C244.931 23.6784 244.905 23.138 244.853 22.6172C244.801 22.0964 244.716 21.6081 244.599 21.1523C244.456 20.6185 244.267 20.1432 244.033 19.7266C243.811 19.2969 243.473 18.9062 243.017 18.5547C242.718 18.3333 242.379 18.1706 242.002 18.0664C241.624 17.9492 241.194 17.8906 240.712 17.8906C240.061 17.8906 239.489 17.9818 238.994 18.1641C238.499 18.3464 238.076 18.6133 237.724 18.9648C237.555 19.1341 237.399 19.3294 237.255 19.5508C237.112 19.7591 236.982 19.987 236.865 20.2344V28.6523C237.021 28.9779 237.197 29.2773 237.392 29.5508C237.601 29.8112 237.841 30.0391 238.115 30.2344C238.44 30.4818 238.818 30.6706 239.248 30.8008C239.69 30.931 240.192 30.9961 240.752 30.9961C241.233 30.9961 241.67 30.9375 242.06 30.8203C242.451 30.7031 242.789 30.5404 243.076 30.332C243.479 30.0456 243.805 29.6745 244.052 29.2188C244.313 28.75 244.508 28.2227 244.638 27.6367C244.742 27.207 244.814 26.7383 244.853 26.2305C244.905 25.7227 244.931 25.1953 244.931 24.6484V24.2383ZM294.916 26.0938C294.824 27.526 294.512 28.8151 293.978 29.9609C293.457 31.1068 292.754 32.0833 291.869 32.8906C290.983 33.6979 289.929 34.3229 288.705 34.7656C287.481 35.1953 286.127 35.4102 284.642 35.4102C283.47 35.4102 282.383 35.2604 281.38 34.9609C280.391 34.6484 279.499 34.2057 278.705 33.6328C277.976 33.099 277.324 32.4544 276.752 31.6992C276.192 30.944 275.716 30.1107 275.326 29.1992C274.948 28.2878 274.655 27.2852 274.447 26.1914C274.252 25.0977 274.154 23.9388 274.154 22.7148V18.8867C274.154 17.7409 274.245 16.6536 274.427 15.625C274.61 14.5833 274.883 13.6198 275.248 12.7344C275.664 11.6536 276.211 10.6901 276.888 9.84375C277.565 8.9974 278.334 8.28125 279.193 7.69531C279.961 7.20052 280.801 6.82292 281.712 6.5625C282.637 6.28906 283.627 6.15234 284.681 6.15234C286.244 6.15234 287.63 6.3737 288.841 6.81641C290.065 7.25911 291.107 7.89062 291.966 8.71094C292.826 9.53125 293.503 10.5339 293.998 11.7188C294.492 12.9036 294.805 14.2383 294.935 15.7227H289.466C289.414 14.8763 289.284 14.1341 289.076 13.4961C288.88 12.8581 288.594 12.3242 288.216 11.8945C287.826 11.4779 287.337 11.1654 286.752 10.957C286.179 10.7357 285.489 10.625 284.681 10.625C284.252 10.625 283.848 10.6706 283.47 10.7617C283.106 10.8529 282.767 10.9896 282.455 11.1719C281.921 11.4844 281.465 11.9336 281.087 12.5195C280.723 13.0924 280.43 13.763 280.209 14.5312C280.039 15.1302 279.916 15.7943 279.837 16.5234C279.759 17.2396 279.72 18.0143 279.72 18.8477V22.7148C279.72 23.8477 279.779 24.8633 279.896 25.7617C280.026 26.6471 280.222 27.4219 280.482 28.0859C280.664 28.5417 280.879 28.9453 281.127 29.2969C281.387 29.6484 281.68 29.9414 282.005 30.1758C282.357 30.4362 282.748 30.6315 283.177 30.7617C283.62 30.8789 284.108 30.9375 284.642 30.9375C285.358 30.9375 286.003 30.8464 286.576 30.6641C287.149 30.4818 287.637 30.1953 288.041 29.8047C288.444 29.4141 288.763 28.9128 288.998 28.3008C289.232 27.6888 289.375 26.9531 289.427 26.0938H294.916ZM297.846 24.2383C297.846 22.7018 298.067 21.2826 298.51 19.9805C298.953 18.6654 299.604 17.526 300.463 16.5625C301.31 15.599 302.345 14.8438 303.569 14.2969C304.806 13.75 306.218 13.4766 307.807 13.4766C309.396 13.4766 310.808 13.75 312.045 14.2969C313.282 14.8438 314.33 15.599 315.19 16.5625C316.036 17.526 316.681 18.6654 317.123 19.9805C317.566 21.2826 317.788 22.7018 317.788 24.2383V24.6484C317.788 26.1979 317.566 27.6302 317.123 28.9453C316.681 30.2474 316.036 31.3802 315.19 32.3438C314.343 33.3073 313.302 34.0625 312.065 34.6094C310.828 35.1432 309.422 35.4102 307.846 35.4102C306.258 35.4102 304.838 35.1432 303.588 34.6094C302.351 34.0625 301.31 33.3073 300.463 32.3438C299.604 31.3802 298.953 30.2474 298.51 28.9453C298.067 27.6302 297.846 26.1979 297.846 24.6484V24.2383ZM303.276 24.6484C303.276 25.5339 303.36 26.3672 303.53 27.1484C303.699 27.9167 303.966 28.5872 304.33 29.1602C304.695 29.7461 305.164 30.2083 305.737 30.5469C306.323 30.8854 307.026 31.0547 307.846 31.0547C308.64 31.0547 309.324 30.8854 309.897 30.5469C310.47 30.2083 310.939 29.7461 311.303 29.1602C311.655 28.5872 311.915 27.9167 312.084 27.1484C312.254 26.3672 312.338 25.5339 312.338 24.6484V24.2383C312.338 23.3789 312.254 22.5651 312.084 21.7969C311.915 21.0286 311.655 20.3516 311.303 19.7656C310.939 19.1797 310.47 18.7174 309.897 18.3789C309.324 18.0404 308.627 17.8711 307.807 17.8711C307 17.8711 306.31 18.0404 305.737 18.3789C305.164 18.7174 304.695 19.1797 304.33 19.7656C303.966 20.3516 303.699 21.0286 303.53 21.7969C303.36 22.5651 303.276 23.3789 303.276 24.2383V24.6484ZM320.87 24.2383C320.87 22.7018 321.091 21.2826 321.534 19.9805C321.976 18.6654 322.627 17.526 323.487 16.5625C324.333 15.599 325.368 14.8438 326.592 14.2969C327.829 13.75 329.242 13.4766 330.83 13.4766C332.419 13.4766 333.832 13.75 335.069 14.2969C336.306 14.8438 337.354 15.599 338.213 16.5625C339.06 17.526 339.704 18.6654 340.147 19.9805C340.59 21.2826 340.811 22.7018 340.811 24.2383V24.6484C340.811 26.1979 340.59 27.6302 340.147 28.9453C339.704 30.2474 339.06 31.3802 338.213 32.3438C337.367 33.3073 336.325 34.0625 335.088 34.6094C333.851 35.1432 332.445 35.4102 330.87 35.4102C329.281 35.4102 327.862 35.1432 326.612 34.6094C325.375 34.0625 324.333 33.3073 323.487 32.3438C322.627 31.3802 321.976 30.2474 321.534 28.9453C321.091 27.6302 320.87 26.1979 320.87 24.6484V24.2383ZM326.299 24.6484C326.299 25.5339 326.384 26.3672 326.553 27.1484C326.722 27.9167 326.989 28.5872 327.354 29.1602C327.718 29.7461 328.187 30.2083 328.76 30.5469C329.346 30.8854 330.049 31.0547 330.87 31.0547C331.664 31.0547 332.347 30.8854 332.92 30.5469C333.493 30.2083 333.962 29.7461 334.327 29.1602C334.678 28.5872 334.939 27.9167 335.108 27.1484C335.277 26.3672 335.362 25.5339 335.362 24.6484V24.2383C335.362 23.3789 335.277 22.5651 335.108 21.7969C334.939 21.0286 334.678 20.3516 334.327 19.7656C333.962 19.1797 333.493 18.7174 332.92 18.3789C332.347 18.0404 331.651 17.8711 330.83 17.8711C330.023 17.8711 329.333 18.0404 328.76 18.3789C328.187 18.7174 327.718 19.1797 327.354 19.7656C326.989 20.3516 326.722 21.0286 326.553 21.7969C326.384 22.5651 326.299 23.3789 326.299 24.2383V24.6484ZM352.384 26.2695L349.923 28.5547V35H344.494V5H349.923V22.1484L351.564 20.2734L357.404 13.8672H363.927L355.959 22.6758L365.041 35H358.38L352.384 26.2695ZM387.102 24.6484C387.102 25.6641 387.03 26.6276 386.887 27.5391C386.743 28.4375 386.535 29.2708 386.262 30.0391C385.962 30.8854 385.565 31.6536 385.07 32.3438C384.589 33.0339 384.016 33.6068 383.352 34.0625C382.753 34.4922 382.076 34.8177 381.32 35.0391C380.578 35.2734 379.758 35.3906 378.859 35.3906C378.039 35.3906 377.29 35.2865 376.613 35.0781C375.949 34.8828 375.35 34.5898 374.816 34.1992C374.53 34.0039 374.263 33.7891 374.016 33.5547C373.768 33.3073 373.534 33.0404 373.312 32.7539L373.059 35H368.176V5H373.605V15.7812C373.866 15.4818 374.146 15.2083 374.445 14.9609C374.745 14.7005 375.064 14.4792 375.402 14.2969C375.884 14.0234 376.405 13.8216 376.965 13.6914C377.538 13.5482 378.156 13.4766 378.82 13.4766C379.732 13.4766 380.565 13.5938 381.32 13.8281C382.089 14.0625 382.772 14.401 383.371 14.8438C383.853 15.1823 384.289 15.5924 384.68 16.0742C385.07 16.543 385.415 17.0573 385.715 17.6172C386.184 18.5156 386.529 19.5247 386.75 20.6445C386.984 21.7643 387.102 22.9622 387.102 24.2383V24.6484ZM381.672 24.2383C381.672 23.6784 381.646 23.138 381.594 22.6172C381.542 22.0964 381.457 21.6081 381.34 21.1523C381.197 20.6185 381.008 20.1432 380.773 19.7266C380.552 19.2969 380.214 18.9062 379.758 18.5547C379.458 18.3333 379.12 18.1706 378.742 18.0664C378.365 17.9492 377.935 17.8906 377.453 17.8906C376.802 17.8906 376.229 17.9818 375.734 18.1641C375.24 18.3464 374.816 18.6133 374.465 18.9648C374.296 19.1341 374.139 19.3294 373.996 19.5508C373.853 19.7591 373.723 19.987 373.605 20.2344V28.6523C373.762 28.9779 373.938 29.2773 374.133 29.5508C374.341 29.8112 374.582 30.0391 374.855 30.2344C375.181 30.4818 375.559 30.6706 375.988 30.8008C376.431 30.931 376.932 30.9961 377.492 30.9961C377.974 30.9961 378.41 30.9375 378.801 30.8203C379.191 30.7031 379.53 30.5404 379.816 30.332C380.22 30.0456 380.546 29.6745 380.793 29.2188C381.053 28.75 381.249 28.2227 381.379 27.6367C381.483 27.207 381.555 26.7383 381.594 26.2305C381.646 25.7227 381.672 25.1953 381.672 24.6484V24.2383ZM390.54 24.2383C390.54 22.7018 390.761 21.2826 391.204 19.9805C391.647 18.6654 392.298 17.526 393.157 16.5625C394.003 15.599 395.039 14.8438 396.263 14.2969C397.499 13.75 398.912 13.4766 400.501 13.4766C402.089 13.4766 403.502 13.75 404.739 14.2969C405.976 14.8438 407.024 15.599 407.884 16.5625C408.73 17.526 409.374 18.6654 409.817 19.9805C410.26 21.2826 410.481 22.7018 410.481 24.2383V24.6484C410.481 26.1979 410.26 27.6302 409.817 28.9453C409.374 30.2474 408.73 31.3802 407.884 32.3438C407.037 33.3073 405.996 34.0625 404.759 34.6094C403.522 35.1432 402.115 35.4102 400.54 35.4102C398.951 35.4102 397.532 35.1432 396.282 34.6094C395.045 34.0625 394.003 33.3073 393.157 32.3438C392.298 31.3802 391.647 30.2474 391.204 28.9453C390.761 27.6302 390.54 26.1979 390.54 24.6484V24.2383ZM395.97 24.6484C395.97 25.5339 396.054 26.3672 396.223 27.1484C396.393 27.9167 396.66 28.5872 397.024 29.1602C397.389 29.7461 397.858 30.2083 398.43 30.5469C399.016 30.8854 399.72 31.0547 400.54 31.0547C401.334 31.0547 402.018 30.8854 402.591 30.5469C403.164 30.2083 403.632 29.7461 403.997 29.1602C404.348 28.5872 404.609 27.9167 404.778 27.1484C404.947 26.3672 405.032 25.5339 405.032 24.6484V24.2383C405.032 23.3789 404.947 22.5651 404.778 21.7969C404.609 21.0286 404.348 20.3516 403.997 19.7656C403.632 19.1797 403.164 18.7174 402.591 18.3789C402.018 18.0404 401.321 17.8711 400.501 17.8711C399.694 17.8711 399.003 18.0404 398.43 18.3789C397.858 18.7174 397.389 19.1797 397.024 19.7656C396.66 20.3516 396.393 21.0286 396.223 21.7969C396.054 22.5651 395.97 23.3789 395.97 24.2383V24.6484ZM413.763 24.2383C413.763 22.7018 413.985 21.2826 414.427 19.9805C414.87 18.6654 415.521 17.526 416.38 16.5625C417.227 15.599 418.262 14.8438 419.486 14.2969C420.723 13.75 422.136 13.4766 423.724 13.4766C425.313 13.4766 426.726 13.75 427.962 14.2969C429.199 14.8438 430.248 15.599 431.107 16.5625C431.953 17.526 432.598 18.6654 433.041 19.9805C433.483 21.2826 433.705 22.7018 433.705 24.2383V24.6484C433.705 26.1979 433.483 27.6302 433.041 28.9453C432.598 30.2474 431.953 31.3802 431.107 32.3438C430.261 33.3073 429.219 34.0625 427.982 34.6094C426.745 35.1432 425.339 35.4102 423.763 35.4102C422.175 35.4102 420.755 35.1432 419.505 34.6094C418.268 34.0625 417.227 33.3073 416.38 32.3438C415.521 31.3802 414.87 30.2474 414.427 28.9453C413.985 27.6302 413.763 26.1979 413.763 24.6484V24.2383ZM419.193 24.6484C419.193 25.5339 419.278 26.3672 419.447 27.1484C419.616 27.9167 419.883 28.5872 420.248 29.1602C420.612 29.7461 421.081 30.2083 421.654 30.5469C422.24 30.8854 422.943 31.0547 423.763 31.0547C424.558 31.0547 425.241 30.8854 425.814 30.5469C426.387 30.2083 426.856 29.7461 427.22 29.1602C427.572 28.5872 427.832 27.9167 428.002 27.1484C428.171 26.3672 428.255 25.5339 428.255 24.6484V24.2383C428.255 23.3789 428.171 22.5651 428.002 21.7969C427.832 21.0286 427.572 20.3516 427.22 19.7656C426.856 19.1797 426.387 18.7174 425.814 18.3789C425.241 18.0404 424.545 17.8711 423.724 17.8711C422.917 17.8711 422.227 18.0404 421.654 18.3789C421.081 18.7174 420.612 19.1797 420.248 19.7656C419.883 20.3516 419.616 21.0286 419.447 21.7969C419.278 22.5651 419.193 23.3789 419.193 24.2383V24.6484ZM445.478 26.2695L443.017 28.5547V35H437.587V5H443.017V22.1484L444.658 20.2734L450.498 13.8672H457.021L449.052 22.6758L458.134 35H451.474L445.478 26.2695Z' fill='black'/%3E%3Cpath d='M21 40C31.4934 40 40 31.4934 40 21C40 10.5066 31.4934 2 21 2C10.5066 2 2 10.5066 2 21C2 31.4934 10.5066 40 21 40Z' stroke='%23242424' stroke-width='3'/%3E%3Cpath d='M24.0417 28.2686C23.9515 28.0902 23.8748 27.8851 23.8118 27.6532C23.7486 27.4213 23.6945 27.176 23.6494 26.9174C23.4419 27.1403 23.2029 27.35 22.9323 27.5461C22.6616 27.7424 22.3595 27.9164 22.0258 28.0679C21.7011 28.2106 21.3402 28.3222 20.9434 28.4024C20.5466 28.4915 20.1182 28.5363 19.6581 28.5363C18.9095 28.5363 18.2194 28.4292 17.5881 28.2151C16.9657 28.0011 16.429 27.7023 15.9781 27.3188C15.527 26.9353 15.1753 26.4804 14.9227 25.9542C14.6701 25.419 14.5439 24.8393 14.5439 24.2149C14.5439 22.6897 15.1166 21.5125 16.2622 20.6829C17.4167 19.8446 19.135 19.4254 21.417 19.4254H23.5141V18.5692C23.5141 17.8734 23.2841 17.3249 22.824 16.9236C22.3641 16.5133 21.7011 16.3081 20.8352 16.3081C20.0685 16.3081 19.5093 16.4732 19.1575 16.8031C18.8058 17.1242 18.6298 17.5569 18.6298 18.1008H14.8686C14.8686 17.4855 15.0039 16.9013 15.2744 16.3483C15.5541 15.7953 15.9555 15.3092 16.4787 14.89C17.0108 14.4708 17.6558 14.1409 18.4134 13.9C19.1801 13.6503 20.055 13.5254 21.0381 13.5254C21.922 13.5254 22.7428 13.6324 23.5005 13.8465C24.2673 14.0605 24.9301 14.3772 25.4893 14.7963C26.0486 15.2155 26.4861 15.7462 26.8017 16.3884C27.1175 17.0217 27.2753 17.7575 27.2753 18.5958V24.8036C27.2753 25.5796 27.3249 26.2217 27.4242 26.7301C27.5234 27.2385 27.6676 27.6755 27.8571 28.0411V28.2686H24.0417ZM20.4564 25.6598C20.8352 25.6598 21.187 25.6152 21.5116 25.5261C21.8364 25.4368 22.1295 25.3209 22.3911 25.1781C22.6526 25.0355 22.8781 24.8749 23.0676 24.6965C23.257 24.5093 23.4058 24.3219 23.5141 24.1346V21.6462H21.5928C21.0066 21.6462 20.506 21.7042 20.0911 21.8201C19.6761 21.9272 19.3379 22.0833 19.0763 22.2884C18.8148 22.4846 18.6208 22.7254 18.4946 23.0109C18.3683 23.2873 18.3052 23.5905 18.3052 23.9206C18.3052 24.4201 18.481 24.8348 18.8328 25.1648C19.1936 25.4948 19.7347 25.6598 20.4564 25.6598Z' fill='%23242424'/%3E%3C/svg%3E%0A") no-repeat center;
    mask-size: contain;

    background-color: var(--c-text);

    vertical-align: middle;
  }

  .cookbook-navbar-items {
    display: flex;

    align-items: center;
    justify-content: flex-end;
  }

  &.fixed {
    z-index: 11;

    position: sticky;
    top: 0;
    left: 0;
    right: 0;

    border-bottom: 1px solid var(--c-bg);
    background-color: rgba(var(--c-bg-rgb), 0.6);
    backdrop-filter: blur(16px);
  }

  .search-box {
    --search-input-width: 10rem;
    margin-left: 2.5rem;

    @include media-breakpoint-down(md) {
      --search-input-width: 100%;
      margin-left: 1.5rem;
    }

    input {
      border-radius: 8px;

      background-position-y: 0.4rem;
    }

    .suggestions {
      z-index: 100;
      display: block;
    }

    .suggestion {
      a {
        color: var(--c-text-lighter);
      }

      &.focus {
        a {
          color: var(--c-brand);
        }
      }
    }
  }

  .hidden-on-search {
    opacity: 1;
    transition: opacity 0.18s;
  }

  &.search-expanded {
    @include media-breakpoint-down(md) {
      .hidden-on-search {
        opacity: 0;
      }
    }
  }
}
</style>
