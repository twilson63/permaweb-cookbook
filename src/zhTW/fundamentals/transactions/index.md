# 交易

交易是 Arweave 網路的基本構建單位。

本節涵蓋不同類型的交易，並介紹將它們發佈到網路的方式。

## 發佈交易

與大多數區塊鏈一樣，Arweave 要求先建立交易、簽署，然後再發佈到網路。

Arweave 提供多種發佈交易的方式 — 一般可歸類為直接發佈到 [閘道](), 使用 [打包器](), 或者派送交易（dispatch）。

## 交易類型

直接發佈到 Arweave 的交易有兩種：**錢包對錢包**交易與**資料**交易。前者在錢包地址之間轉移 **AR** 代幣；後者將資料發佈到 Arweave 並支付相應的儲存費用。

有趣的是，**資料**交易也可以在支付儲存費用的同時將 **AR** 轉移到某個錢包地址。

所有交易允許使用者以 [自訂標籤](./tags.md) 的形式指定最多 2KB 的元資料。

### 直接到閘道

閘道位於客戶端與 Arweave 的對等節點網路之間。閘道的主要功能之一是對交易進行索引，並在等待其被包含進區塊時對提交到網路的資料進行樂觀快取。這使得交易幾乎可以立即在「Pending」（待處理）狀態下被查詢，從而讓建立於閘道之上的應用更具回應性。若交易未被節點在區塊中打包，則仍存在從樂觀快取中消失的風險。

使用 `arweave-js` 直接發佈交易的範例可以在[在此指南](../../guides/posting-transactions/arweave-js)中找到。

::: tip 保證交易
當發佈大量交易或需要較快的結算時間時，請考慮使用打包服務。

打包器能立即結算大量交易，並在毫秒級別提供交易資料。打包服務會保留已發佈的交易，直到它們在鏈上被確認。

若交易未被包含在最新區塊中，打包服務會在每個新區塊時重新發佈它們，直到它們在鏈上被記錄並擁有足夠的確認數為止。
:::

## 打包交易

建立於 Arweave 之上並為 Permaweb 建置者提供額外功能的服務，有時稱為 Permaweb 服務。打包器就是其中一種服務。

打包器會將多個單獨的交易打包成一個發佈到 Arweave 的單一交易。

如此一來，在協議層級的一筆交易中就可以包含數萬筆被打包的交易。不過有一項限制：只有 **資料** 交易可以被包含在打包中。必須直接發佈到 Arweave 的 **錢包對錢包** 交易（即在錢包地址間轉移 **AR** 代幣）必須作為單獨交易處理。

## 派送交易

另一種從瀏覽器發佈打包交易的方式是使用派送（dispatch）。儘管瀏覽器會對可上傳資料大小施加一些限制，基於瀏覽器的錢包仍能向打包器發佈交易。

Arweave 瀏覽器錢包實作了 `dispatch()` API 方法。若您發佈的是小型交易（100KB 或更小），可以使用錢包的 `dispatch()` 方法以利用打包交易的優勢。

如何使用 Arweave 錢包的 `dispatch()` 方法發佈 100KB 或更小的打包交易的範例可以在[在此指南](../../guides/posting-transactions/dispatch.md)中找到。

## 資源

- [arweave-js](../../guides/posting-transactions/arweave-js.md) 範例
- [dispatch](../../guides/posting-transactions/dispatch.md) 範例
- [Turbo SDK](../../guides/posting-transactions/turbo.md) 範例
