# [ANS-101：網關功能端點](https://github.com/ArweaveTeam/arweave-standards/blob/master/ans/ANS-101.md)

狀態: 草案

版本: -

## 摘要

本文件描述一個 HTTP 端點與 schema，Arweave 網關應該對外揭露此端點，以便網關使用者能判定該網關的功能支援情況。

## 動機

隨著 Arweave 區塊鏈入口網關生態系的擴展，這些網關將會提供不同的功能。網關的使用者需要能判定該網關是否支援他們用於特定應用或目的所需的功能。

## 規範

### 1. HTTP 端點

遵循此規範的網關 MUST 對外提供一個 HTTP 端點，該端點在路徑 `/info/capabilities` 回應對 `GET` 請求，回傳一個符合第 2 節 schema 的 JSON 文件，並準確列出該網關所支援的能力。

### 2. 回應結構

端點回傳的 JSON 文件 MUST 為一個物件，包含一個 `capabilities` 鍵，其為一個 `capability` 物件的陣列。

一個 capability 物件至少具有下列結構 -

- `name`：能力名稱。此名稱 MUST 為全域唯一名稱。
- `version`：能力版本。此欄位 MUST 為一個 semver 版本字串。

capability 物件 MAY 遵循該能力所特有的額外 schema。

範例回應主體：（名稱、版本與能力物件僅為 _範例_。）

```json
{
  "capabilities": [
    { "name": "arql", "version": "1.0.0" },
    { "name": "graphql", "version": "1.0.0" },
    { "name": "arweave-id-lookup", "verson": "1.0.0" },
    { "name": "post-bundled-tx-json", "version": "1.0.0" },
    { "name": "post-delegated-tx", "version": "1.0.0", "maxFee": "0.00125" },
    {
      "name": "push-on-event-api",
      "version": "1.0.0",
      "platforms": ["push-android", "push-ios", "web-push-firefox", "webhook"]
    }
  ]
}
```
