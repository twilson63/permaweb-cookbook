# トランザクションメタデータ（タグ）

Arweaveは、各エントリーが独自のトランザクションである永続的な追加専用のハードドライブと考えることができます。トランザクションにはユニークなID、署名、およびトランザクションを投稿するために署名して支払ったアドレスの所有者アドレスがあります。それらのヘッダー値に加えて、Arweaveプロトコルではユーザーがカスタムタグでトランザクションにタグ付けすることを許可しています。これらはトランザクションに追加されるコレクション名の値ペアとして指定されます。これらのタグにより、Arweaveをクエリして特定のタグを含むすべてのトランザクションを見つけることが可能になります。トランザクションをクエリしてフィルタリングする能力は、Arweave上に構築されたアプリをサポートするために重要です。

## トランザクションタグとは？

トランザクションタグはキーと値のペアであり、base64URLのキーと値の組み合わせはArweaveネイティブトランザクションの最大2048バイト未満である必要があります。

一般的なトランザクションタグの例には以下が含まれます：

- `Content-Type`: パーマウェブ上でのレンダリング用のコンテンツのMIMEタイプを指定するために使用されます。
- `App-Name`: データを書き込むアプリを説明するタグです。
- `App-Version`: このデータのバージョンで、App-Nameとペアになります。
- `Unix-Time`: Unixタイムスタンプで、エポックからの**秒数**です。
- `Title`: トランザクションに格納されたコンテンツの名前または簡単な説明を提供するために使用されます。
- `Description`: コンテンツの詳細な説明を提供するために使用されます。

トランザクションタグは、トランザクションの検索用のインデックス作成、トランザクションのカテゴリ分け、またはトランザクションに格納されたコンテンツに関するメタデータの提供など、さまざまな目的に使用できます。

## トランザクションタグに関する知っておくべきこと

トランザクションタグは、キーと値の両方のためにBase64URLエンコードされた文字列としてエンコードされます。これにより、キーや値としてバイトの配列を投稿し、安全にhttpを介して転送することが可能になります。デコードなしでは人間が読めるわけではありませんが、暗号化とは見なされません。

直接Arweaveに投稿されたトランザクションのトランザクションタグの最大総サイズは2048バイトです。このサイズは、トランザクションタグのすべてのキーとすべての値を連結することによって決定されます。

トランザクションタグは、GraphQLクエリで使用され、フィルタリングされたトランザクションアイテムのセットを返すことができます。

## コミュニティで使用される一般的なタグ

| <div style="width:100px">タグ名</div> | 説明                                                                   | 使用例                                                                              |
| --------------------------------------- | --------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| App-Name                                | SmartWeave識別子のために最も一般的に使用される                         | 一般的な値はSmartWeaveContract、SmartWeaveAction、SmartWeaveContractSourceです |
| App-Version                             | このデータのバージョンで、これを消費するアプリを表すことがあります   | 現在のSmartWeaveバージョンは0.3.0です                                              |
| Content-Type                            | トランザクションに含まれるデータを識別するためのMIMEタイプ             | text/html、application/json、image/png                                             |
| Unix-Time                               | Unixタイムスタンプで、エポックからの**秒数**                          | トランザクションが提出された時間                                                 |
| Title                                   | コンテンツを説明するためのANS-110標準                                 | 原子資産に名前を提供                                                              |
| Type                                    | データの分類のためのANS-110標準                                       | パーマウェブ資産を分類するためのタイプ                                            |

## 例

```ts
const tx = await arweave.createTransaction({ data: mydata });
tx.addTag("Content-Type", "text/html");
tx.addTag("Title", "My incredible post about Transaction Tags");
tx.addTag("Description", "This is one post you do not want to miss!");
tx.addTag("Topic:Amazing", "Amazing");
tx.addTag("Type", "blog-post");

await arweave.transactions.sign(tx, jwk);
await arweave.transactions.post(tx);
```
## まとめ

トランザクションタグがArweaveテックスタックにどのように関与しているかを理解することで、Permawebをアプリケーションプラットフォームとして使用する際の問題を解決するための文脈を提供できます。タグは、共通のデータ標準とパターンを作成し、Permaweb上での非競合データ体験を促進するためのツールを提供します。その結果、エコシステムのユーザーは、データが常にユーザーのものであり、アプリケーションのものでないため、消費するアプリケーションと作成するコンテンツの選択肢を持つことができます。