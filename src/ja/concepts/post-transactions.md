---
locale: ja
---
# トランザクションの投稿

トランザクションをArweaveに投稿する方法はいくつかあります。それぞれに独自の利点と制約があります。以下の図は、トランザクションを投稿するための4つの主要なアプローチを示しています。

`ピアへの直接投稿`、`ゲートウェイへの直接投稿`、`バンドル`、および`ディスパッチ`です。

<img src="https://arweave.net/Z1eDDnz4kqxAkkzy6p5elMz-jKnlaVIletp-Tm6W8kQ" width="550">

::: tip <img src="https://arweave.net/blzzObMx8QvyrPTdLPGV3m-NsnJ-QqBzvQIQzzZEfIk" width="20"> 確実なトランザクション
大量のトランザクションを投稿する場合や迅速な決済時間が望ましい場合は、バンドルサービスを利用することを検討してください。バンドラーは大量のトランザクションを即座に決済し、トランザクションデータを数ミリ秒内に利用可能にします。バンドルサービスは投稿されたトランザクションを保持し、ブロックに確認されるまで待機します。トランザクションが最新のブロックに含まれない場合、バンドルサービスは新しいブロックごとに再投稿します。
:::

## 直接トランザクション

Arweaveに直接投稿されたトランザクションには、**ウォレット間**のトランザクションと**データ**トランザクションの2種類があります。最初のものは**AR**トークンをウォレットアドレス間で転送します。後者はデータをArweaveに投稿し、関連するストレージコストを支払います。

興味深いことに、**データ**トランザクションは、ストレージコストを支払いながらウォレットアドレスに**AR**トークンを転送することもできます。

すべてのトランザクションでは、ユーザーが最大2KBのメタデータを[カスタムタグ](./tags.md)の形式で指定できます。

### ピアへの直接投稿

トランザクションはArweaveピア（マイニングノード）に直接投稿できます。これはトランザクションを投稿する最も分散型の手段の1つであり、クライアントはどのピアに投稿するかを選択できます。

このアプローチには欠点もあります。ピアは来たり去ったりすることがあるため、アプリからトランザクションを確実に投稿することが難しくなります。アクティブなピアのリストをクエリして投稿前に選択することも可能ですが、プロセスにオーバーヘッドと摩擦を追加します。さらに、ピアに投稿されたトランザクションは、ブロックにマイニングされるまでゲートウェイでのみクエリ可能です。これにより、トランザクションをピアに投稿してから、ゲートウェイからブラウザで読み取れるまでに1〜2分の遅延が発生します。

上記の理由から、開発者は直接トランザクションを投稿する際に`arweave-js`をゲートウェイにポイントするように設定することが一般的です。ゲートウェイの楽観的キャッシュは、トランザクションをほぼ即座に利用可能にします。

### ゲートウェイへの直接投稿

ゲートウェイは、クライアントとArweaveのピアネットワークの間に位置しています。ゲートウェイの主な機能の1つは、トランザクションをインデックスし、ネットワークに投稿されたデータを楽観的にキャッシュすることです。これにより、トランザクションは「保留中」の状態でほぼ即座にクエリ可能になり、ゲートウェイ上に構築されたアプリケーションはより応答性が高くなります。ただし、トランザクションがブロックにマイニングされない場合、楽観的キャッシュから外れるリスクがあります。

直接トランザクションを投稿する方法の例は、[このガイド](../guides/posting-transactions/arweave-js.md)にあります。

## バンドルトランザクション

Arweaveの上に構築されたサービスは、パーマウェブビルダーに追加のユーティリティを提供し、時にはパーマウェブサービスと呼ばれます。バンドラーはそのようなサービスの1つです。バンドラーは複数の個別トランザクションをまとめて、1つのトランザクションとして直接Arweaveに投稿します。この方法により、プロトコルレベルで1つのトランザクションが数万のバンドルトランザクションを含むことができます。ただし、1つの制限があります。**データ**トランザクションのみがバンドルに含まれることができます。**ウォレット間**のトランザクション（**AR**トークンをウォレットアドレス間で転送する）は、Arweaveに直接投稿される個別トランザクションとして行う必要があります。

## ディスパッチトランザクション

バンドルトランザクションを投稿する別の方法は、ブラウザからです。ブラウザは、アップロードできるデータのサイズに関していくつかの制約を課しますが、ブラウザベースのウォレットはバンドラーにトランザクションを投稿できます。Arweaveブラウザウォレットは、`dispatch()`APIメソッドを実装しています。小さなトランザクション（100KB以下）を投稿する場合は、ウォレットの`dispatch()`メソッドを使用してバンドルトランザクションの利点を享受できます。

100KB以下のバンドルトランザクションをArweaveウォレットの`dispatch()`メソッドで投稿する方法の例は、[このガイド](../guides/posting-transactions/dispatch.md)にあります。

## リソース

-   [arweave-js](../guides/posting-transactions/arweave-js.md) の例
-   [dispatch](../guides/posting-transactions/dispatch.md) の例
-   [arseeding-js](../guides/posting-transactions/arseeding-js.md) の例
-   [akord](../guides/posting-transactions/akord.md) の例