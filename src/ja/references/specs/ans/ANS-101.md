# [ANS-101: ゲートウェイ機能エンドポイント](https://github.com/ArweaveTeam/arweave-standards/blob/master/ans/ANS-101.md)

ステータス: 草案

バージョン: -

## 概要

本ドキュメントは、ゲートウェイ利用者がゲートウェイの機能を判別できるように、Arweave ゲートウェイが公開すべき HTTP エンドポイントとスキーマを記述します。

## 動機

Arweave ブロックチェーンへのゲートウェイのエコシステムが拡大するにつれて、各ゲートウェイは異なる機能を提供するようになります。ゲートウェイの利用者は、特定のアプリを動かすため、あるいは特定の目的で使用するために、そのゲートウェイが必要な機能をサポートしているかどうかを判別できる必要があります。

## 仕様

### 1. HTTP エンドポイント

この仕様に準拠するゲートウェイは、`/info/capabilities` パスに対する GET リクエストに応答する HTTP エンドポイントを公開し、セクション 2 のスキーマに準拠した JSON ドキュメントでゲートウェイがサポートする機能を正確に列挙しなければなりません（MUST）。

### 2. レスポンススキーマ

エンドポイントが返す JSON ドキュメントは、`capabilities` キーを持つオブジェクトでなければならず（MUST）、その値は `capability` オブジェクトの配列でなければなりません。

capability オブジェクトは少なくとも以下のスキーマを持ちます -

- `name` — 機能名。これはグローバルに一意の名前でなければなりません（MUST）。
- `version` — 機能のバージョン。これは semver のバージョン文字列でなければなりません（MUST）。

capability オブジェクトは、その機能に特有の追加スキーマに準拠していてもよい（MAY）。

例のレスポンス本文:（名前、バージョン、及び capability オブジェクトは*例*に過ぎません。）

```json
{
  "capabilities": [
    { "name": "arql", "version": "1.0.0" },
    { "name": "graphql", "version": "1.0.0" },
    { "name": "arweave-id-lookup", "verson": "1.0.0" },
    { "name": "post-bundled-tx-json", "version": "1.0.0" },
    { "name": "post-delegated-tx", "version": "1.0.0", "maxFee": "0.00125" },
    {
      "name": "push-on-event-api",
      "version": "1.0.0",
      "platforms": ["push-android", "push-ios", "web-push-firefox", "webhook"]
    }
  ]
}
```
