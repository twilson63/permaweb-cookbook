# ウォレットと鍵

Arweave のウォレットは、Arweave ブロックチェーンネットワークとやり取りするためのゲートウェイとして機能します。ウォレット自体がトークンを物理的に保管するわけではなく、オンチェーン資産やデータへアクセスして操作するために必要な暗号鍵を管理します。

## Arweave ウォレットとは何か？

Arweave のウォレットは、あなたの一意のブロックチェーンアドレスを保護する暗号的ツールです。このアドレスはあなたの $AR トークン残高を追跡し、トランザクションの送信などのネットワーク操作を可能にします。

ウォレットが実際にトークンを「保持」しているわけではないことを理解することが重要です。ウォレットはトランザクションに署名しオンチェーン資産を管理するための公開鍵・秘密鍵の暗号ペアを保存します。トークン残高はブロックチェーン上に存在し、ウォレットのアドレスに紐づいています。

## 重要ポイント

- ウォレットは Arweave ネットワーク上でトランザクションに署名し資金へアクセスするために必要な暗号鍵を含みます
- ウォレット所有者のみ（**秘密鍵**へのアクセスを持つ者）がそのアドレスのトランザクションを承認できます
- Arweave は JWK（JSON Web Keys）形式で保存される 4096 ビットの RSA-PSS 鍵ペアを使用します
- ウォレットアドレスは公開鍵から SHA-256 ハッシュと Base64URL エンコードを用いて派生します
- **秘密鍵**は資金へのアクセスを制御するため、常に安全に保管する必要があります

## 鍵ペアとウォレット形式

Arweave は JWK（JSON Web Keys）形式で保存される*4096 ビット*の RSA-PSS 鍵ペアを利用します。Arweave ウォレットの典型的な JWK ファイルは次のような形式です（値は省略されています）:

```json
{
  "d": "cgeeu66FlfX9wVgZr5AXKlw4MxTlxSuSwMtTR7mqcnoE...",
  "dp": "DezP9yvB13s9edjhYz6Dl...",
  "dq": "SzAT5DbV7eYOZbBkkh20D...",
  "e": "AQAB",
  "ext": true,
  "kty": "RSA",
  "n": "o4FU6y61V1cBLChYgF9O37S4ftUy4newYWLApz4CXlK8...",
  "p": "5ht9nFGnpfW76CPW9IEFlw...",
  "q": "tedJwzjrsrvk7o1-KELQxw...",
  "qi": "zhL9fXSPljaVZ0WYhFGPU..."
}
```

この JWK ファイルでは:

- `n` の値はウォレットの**公開鍵**を表し、安心して共有できます
- `d` の値（およびその他のフィールド）はウォレットの**秘密鍵**を構成しており、機密として保持する必要があります

これらの JWK ファイルは [Arweave.app](https://arweave.app) のようなウォレットアプリケーションから作成・エクスポートするか、[arweave-js](https://github.com/ArweaveTeam/arweave-js) を使用してプログラムで生成できます。

一部のウォレットアプリケーションを使用する場合、**秘密鍵**はニーモニックの**シードフレーズ**として表現されることがあり、トランザクションの署名やウォレットの復元に使用できます。

## ウォレットアドレス

Arweave のウォレットアドレスは公開鍵から決定的なプロセスで派生されます:

1. 公開鍵の SHA-256 ハッシュを計算する
2. そのハッシュを Base64URL でエンコードする
3. 結果としてフルの 4096 ビット公開鍵よりも扱いやすい 43 文字のウォレットアドレスが生成される

このプロセスはウォレットアドレスと公開鍵の間に安全かつ検証可能なリンクを作成し、日常的な使用に適したより人間に読みやすい形式を提供します。

## ウォレットのセキュリティ

あなたの**秘密鍵**はウォレットと資金への完全なアクセス権を与えます。**秘密鍵**へアクセスできる者は誰でもあなたのアドレスからトークンを移転できます。開発者としては特に注意してください:

- キーファイルを公開 GitHub リポジトリに含めないこと
- **秘密鍵**を保護されていないデバイスやクラウドサービスに保存しないこと
- **秘密鍵**やシードフレーズを安全にバックアップすること
- 大規模な保有にはハードウェアウォレットの使用を検討すること

## 利用可能なウォレット

Arweave ネットワークとやり取りするためのウォレットオプションはいくつかあります:

- [Wander](https://wander.app) - Arweave および AO 向けのブラウザ拡張およびモバイルウォレット
- [Beacon](https://beaconwallet.app/) - Arweave および AO 向けのブラウザ拡張およびモバイルウォレット
- [Arweave.app](https://arweave.app/welcome) - 永続データのデプロイ、dApp への接続、Weave のナビゲートを行うためのウェブウォレット _(AO/HyperBEAM のサポートは限定的)_

## 参考資料

- [Arweave Docs](https://docs.arweave.org/developers/server/http-api#key-format)
- [JSON Web Key Format (RFC 7517)](https://www.rfc-editor.org/rfc/rfc7517)
