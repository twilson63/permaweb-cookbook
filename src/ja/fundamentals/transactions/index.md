# トランザクション

トランザクションは Arweave ネットワークの基本的な構成要素です。

このセクションでは異なるタイプのトランザクションを説明し、それらをネットワークに投稿する方法を紹介します。

## トランザクションの投稿

ほとんどのブロックチェーンと同様に、Arweave ではトランザクションを作成し、署名し、ネットワークに投稿する必要があります。

Arweave にはトランザクションを投稿する複数の方法がありますが、一般的には [Gateway](../gateways/index.md) へ直接投稿する方法、[Bundler](./bundles.md) を使う方法、またはディスパッチ（dispatch）する方法のいずれかに分類されます。

## トランザクションの種類

Arweave に直接投稿されるトランザクションには、主に **ウォレット間** トランザクションと **データ** トランザクションの 2 種類があります。前者はウォレットアドレス間で **AR** トークンを転送します。後者はデータを Arweave に投稿し、それに伴うストレージコストを支払います。

興味深いことに、**データ** トランザクションは、ストレージコストを支払いつつウォレットアドレスへ **AR** トークンを転送することも可能です。

すべてのトランザクションは、[カスタムタグ](./tags.md) の形で最大 2KB 相当のメタデータを指定できます。

### ゲートウェイへ直接投稿

ゲートウェイはクライアントと Arweave のピアネットワークの間に位置します。ゲートウェイの主な機能の一つは、トランザクションをインデックス化し、ブロックに含まれるのを待つ間に投稿されたデータを楽観的にキャッシュすることです。これによりトランザクションはほぼ瞬時に "Pending"（保留）状態でクエリ可能になり、ゲートウェイ上に構築されたアプリケーションの応答性が向上します。ただし、ピアによってブロックに採掘されない場合、楽観的キャッシュからトランザクションが落ちるリスクは依然としてあります。

`arweave-js` を使用してゲートウェイへ直接トランザクションを投稿する方法の例は、[このガイド](../../guides/posting-transactions/arweave-js) にあります。

::: tip 保証されたトランザクション
大量のトランザクションを投稿する場合や、迅速な決済時間が望ましい場合はバンドリングサービスの利用を検討してください。

バンドラーは大量のトランザクションを即時に精算し、トランザクションデータをミリ秒単位で利用可能にします。バンドリングサービスは投稿されたトランザクションをオンチェーンで確認されるまで保持します。

もしトランザクションが最新のブロックに含まれなかった場合、バンドリングサービスは次のブロックごとに再投稿を行い、十分な確認が得られるまでオンチェーンに記録されるまで繰り返します。
:::

## バンドルトランザクション

Permaweb ビルダー向けに追加のユーティリティを提供する Arweave 上のサービスは、しばしば Permaweb サービスと呼ばれます。バンドラーはそのようなサービスの一例です。

バンドラーは複数の個別トランザクションを取りまとめ、単一のトランザクションとして Arweave に直接投稿します。

この方法により、プロトコルレベルでは単一のトランザクションに数万のバンドル済みトランザクションを含めることが可能です。ただし一つ制約があり、バンドルに含められるのは **データ** トランザクションのみです。ウォレットアドレス間で **AR** トークンを転送する **ウォレット間** トランザクションは、個別のトランザクションとして直接 Arweave に投稿する必要があります。

## ディスパッチ済みトランザクション

ブラウザからバンドル済みトランザクションを投稿する別の方法があります。ブラウザはアップロード可能なデータサイズにいくつか制約を課しますが、ブラウザベースのウォレットはバンドラーへトランザクションを投稿できます。

Arweave のブラウザウォレットは `dispatch()` API メソッドを実装しています。100KB 以下の小さなトランザクションを投稿する場合、ウォレットの `dispatch()` メソッドを使ってバンドル済みトランザクションの利点を活用できます。

Arweave ウォレットの `dispatch()` メソッドを使って 100KB 以下のバンドル済みトランザクションを投稿する方法の例は、[このガイド](../../guides/posting-transactions/dispatch.md) にあります。

## リソース

- [arweave-js](../../guides/posting-transactions/arweave-js.md) の例
- [dispatch](../../guides/posting-transactions/dispatch.md) の例
- [Turbo SDK](../../guides/posting-transactions/turbo.md) の例
