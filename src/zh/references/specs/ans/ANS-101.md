# [ANS-101：网关功能端点](https://github.com/ArweaveTeam/arweave-standards/blob/master/ans/ANS-101.md)

状态: 草案

版本: -

## 摘要

本文件描述一个 HTTP 端点与 schema，Arweave 网关应该对外揭露此端点，以便网关用户能判定该网关的功能支持情况。

## 动机

随着 Arweave 区块链入口网关生态系统的扩展，这些网关将会提供不同的功能。网关的用户需要能够判定该网关是否支持他们用于特定应用或目的所需的功能。

## 规范

### 1. HTTP 端点

遵循此规范的网关 MUST 对外提供一个 HTTP 端点，该端点在路径 `/info/capabilities` 响应对 `GET` 请求，返回一个符合第 2 节 schema 的 JSON 文档，并准确列出该网关所支持的能力。

### 2. 响应结构

端点返回的 JSON 文档 MUST 为一个对象，包含一个 `capabilities` 键，其为一个 `capability` 对象的数组。

一个 capability 对象至少具有下列结构 -

- `name`：能力名称。此名称 MUST 为全局唯一名称。
- `version`：能力版本。此字段 MUST 为一个 semver 版本字符串。

capability 对象 MAY 遵循该能力所特有的额外 schema。

示例响应主体：（名称、版本与能力对象仅为 _示例_。）

```json
{
  "capabilities": [
    { "name": "arql", "version": "1.0.0" },
    { "name": "graphql", "version": "1.0.0" },
    { "name": "arweave-id-lookup", "verson": "1.0.0" },
    { "name": "post-bundled-tx-json", "version": "1.0.0" },
    { "name": "post-delegated-tx", "version": "1.0.0", "maxFee": "0.00125" },
    {
      "name": "push-on-event-api",
      "version": "1.0.0",
      "platforms": ["push-android", "push-ios", "web-push-firefox", "webhook"]
    }
  ]
}
```
